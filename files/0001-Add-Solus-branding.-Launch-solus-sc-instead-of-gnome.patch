From 062bc23ce9ad9f81acacbfb27c1ce09a5ffb137b Mon Sep 17 00:00:00 2001
From: Joshua Strobl <joshua@stroblindustries.com>
Date: Sun, 8 Oct 2017 04:04:27 +0300
Subject: [PATCH 1/1] Add Solus branding. Launch solus-sc instead of
 gnome-software.

---
 panels/info/cc-info-overview-panel.c | 12 ++++++------
 panels/info/info-overview.ui         |  4 +++-
 panels/info/info.gresource.xml       |  1 -
 3 files changed, 9 insertions(+), 8 deletions(-)

diff --git a/panels/info/cc-info-overview-panel.c b/panels/info/cc-info-overview-panel.c
index 3af58be..9892100 100644
--- a/panels/info/cc-info-overview-panel.c
+++ b/panels/info/cc-info-overview-panel.c
@@ -834,9 +834,9 @@ info_overview_panel_setup_overview (CcInfoOverviewPanel *self)
 }
 
 static gboolean
-does_gnome_software_exist (void)
+does_solus_sc_exist (void)
 {
-  return g_file_test (BINDIR "/gnome-software", G_FILE_TEST_EXISTS);
+  return g_file_test (BINDIR "/solus-sc", G_FILE_TEST_EXISTS);
 }
 
 static gboolean
@@ -854,10 +854,10 @@ on_updates_button_clicked (GtkWidget           *widget,
   gchar **argv;
 
   argv = g_new0 (gchar *, 3);
-  if (does_gnome_software_exist ())
+  if (does_solus_sc_exist ())
     {
-      argv[0] = g_build_filename (BINDIR, "gnome-software", NULL);
-      argv[1] = g_strdup_printf ("--mode=updates");
+      argv[0] = g_build_filename (BINDIR, "solus-sc", NULL);
+      argv[1] = g_strdup_printf ("--update-view");
     }
   else
     {
@@ -939,7 +939,7 @@ cc_info_overview_panel_init (CcInfoOverviewPanel *self)
 
   priv->graphics_data = get_graphics_data ();
 
-  if (does_gnome_software_exist () || does_gpk_update_viewer_exist ())
+  if (does_solus_sc_exist () || does_gpk_update_viewer_exist ())
     {
       g_signal_connect (priv->updates_button, "clicked", G_CALLBACK (on_updates_button_clicked), self);
     }
diff --git a/panels/info/info-overview.ui b/panels/info/info-overview.ui
index 219a83c..194585d 100644
--- a/panels/info/info-overview.ui
+++ b/panels/info/info-overview.ui
@@ -18,7 +18,9 @@
           <object class="GtkImage" id="system_image">
             <property name="visible">True</property>
             <property name="can_focus">False</property>
-            <property name="resource">/org/gnome/control-center/info/GnomeLogoVerticalMedium.svg</property>
+            <property name="pixel_size">192</property>
+            <property name="icon_name">start-here-solus</property>
+            <property name="icon_size">6</property>
           </object>
           <packing>
             <property name="expand">False</property>
diff --git a/panels/info/info.gresource.xml b/panels/info/info.gresource.xml
index ce49a67..4e99df2 100644
--- a/panels/info/info.gresource.xml
+++ b/panels/info/info.gresource.xml
@@ -5,6 +5,5 @@
     <file preprocess="xml-stripblanks">info-overview.ui</file>
     <file preprocess="xml-stripblanks">info-default-apps.ui</file>
     <file preprocess="xml-stripblanks">info-removable-media.ui</file>
-    <file>GnomeLogoVerticalMedium.svg</file>
   </gresource>
 </gresources>
-- 
2.14.2

